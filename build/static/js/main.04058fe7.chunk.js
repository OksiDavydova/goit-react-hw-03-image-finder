(this["webpackJsonpgoit-react-hw-03-image-finder"]=this["webpackJsonpgoit-react-hw-03-image-finder"]||[]).push([[0],{10:function(e,t,a){e.exports={Searchbar:"Searchbar_Searchbar__2YDx7",SearchForm:"Searchbar_SearchForm__nQGOA",SearchForm_button:"Searchbar_SearchForm_button__2COg8",SearchForm_button_label:"Searchbar_SearchForm_button_label__3CTKW",SearchForm_input:"Searchbar_SearchForm_input__3_ZS7","SearchForm-input":"Searchbar_SearchForm-input__e19fE"}},14:function(e,t,a){e.exports={Overlay:"Modal_Overlay__1vY0k",Modal:"Modal_Modal__jYs_s",ButtonClose:"Modal_ButtonClose__IWeQG"}},17:function(e,t,a){e.exports={Button:"Button_Button__1R9Vu",Btn_children:"Button_Btn_children__nroRf"}},18:function(e,t,a){e.exports={ImageGalleryItem:"ImageGalleryItem_ImageGalleryItem__184SL",ImageGalleryItem_image:"ImageGalleryItem_ImageGalleryItem_image__1acaV"}},33:function(e,t,a){},34:function(e,t,a){},76:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(9),l=a.n(c),o=(a(33),a(4)),s=a(5),i=a(7),u=a(6),h=(a(34),a(19)),m=a(16),d=a.n(m);d.a.defaults.baseURL="https://pixabay.com/api/";var g=function(e,t){return d.a.get("?q=".concat(e,"&page=").concat(t,"&key=").concat("23071441-390664cd2415d23736c9d0a4e","&image_type=photo&orientation=horizontal&per_page=12")).then((function(e){if(e)return e.data.hits}))},v=a(17),p=a.n(v),b=a(1);function j(e){var t=e.onClickLoadMore,a=e.children;return Object(b.jsx)("button",{type:"button",onClick:t,className:p.a.Button,children:Object(b.jsx)("div",{className:p.a.Btn_children,children:a})})}var f=a(18),_=a.n(f);function y(e){var t=e.webformatURL,a=e.largeImageURL,n=e.tags,r=e.onClick;return Object(b.jsx)(b.Fragment,{children:Object(b.jsx)("li",{className:_.a.ImageGalleryItem,children:Object(b.jsx)("img",{src:t,"data-source":a,alt:n,className:_.a.ImageGalleryItem_image,onClick:r})})})}var O=a(8),x=a.n(O),S=a(28),w=a.n(S);a(74);var C,I,M,E,F,k,L,B,N,G,R,z,U,V,H,P,D,Q,A,T,K,q,W=function(){return Object(b.jsx)("div",{style:Y,children:Object(b.jsx)(w.a,{type:"Circles",color:"#3f51b5",height:100,width:100})})},Y={position:"fixed",top:"50%",left:"50%",transform:"translate(-50%, -50%)"},J=function(e){Object(i.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(o.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={images:[],loading:!1,currentPage:1,status:"init",loadingForButton:!1},e.handleClick=function(t){if("IMG"===t.target.nodeName){var a=t.target.dataset.source;e.props.handleLargeImg(a)}},e.scrollToLoadBtn=function(){return window.scrollTo({top:document.documentElement.scrollHeight,behavior:"smooth"})},e.onClickLoadMore=function(){e.setState((function(e){return{currentPage:e.currentPage+1,loadingForButton:!0}}))},e}return Object(s.a)(a,[{key:"componentDidUpdate",value:function(e,t){var a=this,n=e.searchResult,r=this.props.searchResult,c=this.state.currentPage;n!==r&&(this.setState({status:"pending"}),g(r,1).then((function(e){return a.setState({images:e,currentPage:1,status:"success"})})).catch((function(e){console.log(e),a.setState({status:"error"})}))),t.currentPage!==c&&1!==c&&g(r,c).then((function(e){a.setState((function(t){return{images:[].concat(Object(h.a)(t.images),Object(h.a)(e)),status:"success",loadingForButton:!1}})),a.scrollToLoadBtn()})).catch((function(e){console.log(e),a.setState({status:"error"})}))}},{key:"render",value:function(){var e=this,t=this.state,a=t.images,n=t.status,r=t.loadingForButton;return"init"===n?Object(b.jsx)("h1",{className:x.a.title,children:"Hello! Are you want to find something..."}):"pending"===n?Object(b.jsx)(W,{}):"success"===n?0===a.length?Object(b.jsxs)("h1",{className:x.a.title,children:["sorry we did not find photos on your request:",Object(b.jsx)("span",{className:x.a.title_span,children:this.props.searchResult})]}):Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)("ul",{className:x.a.ImageGallery,children:a.length>0&&a.map((function(t){var a=t.id,n=t.webformatURL,r=t.largeImageURL,c=t.tags,l=t.user_id;return Object(b.jsx)(y,{webformatURL:n,largeImageURL:r,tags:c,onClick:e.handleClick},"".concat(a,"-").concat(l))}))}),Object(b.jsxs)(j,{onClickLoadMore:this.onClickLoadMore,children:[r&&Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)("span",{className:x.a.loader}),Object(b.jsx)("span",{children:"Fetch data"})]}),!r&&Object(b.jsx)("span",{children:"Loading more"})]})]}):"error"===n?Object(b.jsx)("h1",{className:x.a.title,children:"Sorry!!!"}):void 0}}]),a}(n.Component),Z=a(10),X=a.n(Z),$=a(13),ee=(a(75),function(e){Object(i.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(o.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={searchQuery:""},e.handleChange=function(t){var a=t.currentTarget.value.toLowerCase();e.setState({searchQuery:a})},e.handleSubmit=function(t){if(t.preventDefault(),""===e.state.searchQuery.trim())return $.b.error("\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043a\u043b\u044e\u0447\u0435\u0432\u043e\u0435 \u0441\u043b\u043e\u0432\u043e!",{theme:"dark"});e.props.onSubmit(e.state.searchQuery),e.reset()},e.reset=function(){e.setState({searchQuery:""})},e}return Object(s.a)(a,[{key:"render",value:function(){var e=this.state.searchQuery;return Object(b.jsx)("header",{className:X.a.Searchbar,children:Object(b.jsxs)("form",{className:X.a.SearchForm,onSubmit:this.handleSubmit,children:[Object(b.jsx)("button",{type:"submit",className:X.a.SearchForm_button,children:Object(b.jsx)("span",{className:X.a.SearchForm_button_label,children:"Search"})}),Object(b.jsx)("input",{className:X.a.SearchForm_input,type:"text",value:e,onChange:this.handleChange,autoComplete:"off",autoFocus:!0,placeholder:"Search images and photos"})]})})}}]),a}(n.Component)),te=a(14),ae=a.n(te),ne=["title","titleId"];function re(){return re=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},re.apply(this,arguments)}function ce(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},c=Object.keys(e);for(n=0;n<c.length;n++)a=c[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(n=0;n<c.length;n++)a=c[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}function le(e,t){var a=e.title,r=e.titleId,c=ce(e,ne);return n.createElement("svg",re({id:"Layer_1",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",x:"0px",y:"0px",viewBox:"0 0 300.725 300.725",style:{enableBackground:"new 0 0 300.725 300.725"},xmlSpace:"preserve",ref:t,"aria-labelledby":r},c),a?n.createElement("title",{id:r},a):null,n.createElement("g",null,n.createElement("g",{id:"close-hang-sign-light-shop_1_"},n.createElement("path",{style:{fill:"#F78B28"},d:"M150.363,176.206c-5.183,0-9.398,4.215-9.398,9.398v28.193c0,5.183,4.215,9.398,9.398,9.398 s9.398-4.215,9.398-9.398v-28.193C159.76,180.421,155.546,176.206,150.363,176.206z"}),n.createElement("path",{style:{fill:"#F78B28"},d:"M281.93,143.314H28.193c-7.772,0-14.097,6.325-14.097,14.096v84.579 c0,7.772,6.325,14.097,14.097,14.097H281.93c7.772,0,14.096-6.325,14.096-14.097V157.41 C296.027,149.639,289.702,143.314,281.93,143.314z M84.579,185.604h-9.398v-2.349c0-3.886-3.162-7.048-7.048-7.048 c-3.886,0-7.048,3.162-7.048,7.048v32.892c0,3.886,3.162,7.048,7.048,7.048s7.048-3.162,7.048-7.048v-2.349h9.398v2.349 c0,9.069-7.377,16.446-16.446,16.446s-16.446-7.377-16.446-16.446v-32.892c0-9.069,7.377-16.446,16.446-16.446 s16.446,7.377,16.446,16.446V185.604z M126.869,232.592H98.676c-2.594,0-4.699-2.105-4.699-4.699v-61.085h9.398v56.386h23.494 V232.592z M169.158,213.797c0,10.366-8.43,18.795-18.795,18.795s-18.795-8.43-18.795-18.795v-28.193 c0-10.366,8.43-18.795,18.795-18.795c10.366,0,18.795,8.43,18.795,18.795V213.797z M211.448,185.604h-9.398v-2.349 c0-3.886-3.162-7.048-7.048-7.048s-7.048,3.162-7.048,7.048v4.699c0,3.886,3.162,7.048,7.048,7.048 c9.069,0,16.446,7.377,16.446,16.446v4.699c0,9.069-7.377,16.446-16.446,16.446s-16.446-7.377-16.446-16.446v-2.349h9.398v2.349 c0,3.886,3.162,7.048,7.048,7.048s7.048-3.162,7.048-7.048v-4.699c0-3.886-3.162-7.048-7.048-7.048 c-9.069,0-16.446-7.377-16.446-16.446v-4.699c0-9.069,7.377-16.446,16.446-16.446s16.446,7.377,16.446,16.446V185.604z  M253.737,176.206h-23.494v18.795h18.795v9.398h-18.795v18.795h23.494v9.398h-28.193c-2.594,0-4.699-2.105-4.699-4.699v-23.494 v-9.398v-23.494c0-2.594,2.105-4.699,4.699-4.699h28.193V176.206z"}),n.createElement("circle",{style:{fill:"#FFFFFF"},cx:155.062,cy:58.735,r:4.699}),C||(C=n.createElement("path",{d:"M190.303,162.11c-9.069,0-16.446,7.377-16.446,16.446v4.699c0,9.069,7.377,16.446,16.446,16.446 c3.886,0,7.048,3.162,7.048,7.048v4.699c0,3.886-3.162,7.048-7.048,7.048s-7.048-3.162-7.048-7.048V209.1h-9.398v2.349 c0,9.069,7.377,16.446,16.446,16.446s16.446-7.377,16.446-16.446v-4.699c0-9.069-7.377-16.446-16.446-16.446 c-3.886,0-7.048-3.162-7.048-7.048v-4.699c0-3.886,3.162-7.048,7.048-7.048s7.048,3.162,7.048,7.048v2.349h9.398v-2.349 C206.749,169.487,199.372,162.11,190.303,162.11z"})),I||(I=n.createElement("path",{d:"M216.146,166.809v23.494v9.398v23.494c0,2.594,2.105,4.699,4.699,4.699h28.193v-9.398h-23.494V199.7h18.795v-9.398 h-18.795v-18.795h23.494v-9.398h-28.193C218.251,162.11,216.146,164.215,216.146,166.809z"})),M||(M=n.createElement("path",{d:"M277.231,129.218h-31.327l-86.233-64.675c2.913-2.584,4.788-6.315,4.788-10.507c0-7.772-6.325-14.097-14.097-14.097 s-14.096,6.325-14.096,14.097c0,4.191,1.875,7.922,4.788,10.507l-86.233,64.675H23.494C10.539,129.218,0,139.757,0,152.712v84.579 c0,12.955,10.539,23.494,23.494,23.494h253.737c12.955,0,23.494-10.539,23.494-23.494v-84.579 C300.725,139.757,290.186,129.218,277.231,129.218z M150.363,49.338c2.589,0,4.699,2.11,4.699,4.699 c0,2.589-2.11,4.699-4.699,4.699s-4.699-2.11-4.699-4.699C145.664,51.448,147.774,49.338,150.363,49.338z M150.363,69.308 l79.88,59.91H70.483L150.363,69.308z M291.328,237.291c0,7.772-6.325,14.097-14.096,14.097H23.494 c-7.772,0-14.097-6.325-14.097-14.097v-84.579c0-7.772,6.325-14.097,14.097-14.097h253.737c7.772,0,14.096,6.325,14.096,14.097 v84.579H291.328z"})),E||(E=n.createElement("path",{d:"M63.434,162.11c-9.069,0-16.446,7.377-16.446,16.446v32.892c0,9.069,7.377,16.446,16.446,16.446 s16.446-7.377,16.446-16.446v-2.349h-9.398v2.349c0,3.886-3.162,7.048-7.048,7.048s-7.048-3.162-7.048-7.048v-32.892 c0-3.886,3.162-7.048,7.048-7.048s7.048,3.162,7.048,7.048v2.349h9.398v-2.349C79.88,169.487,72.503,162.11,63.434,162.11z"})),F||(F=n.createElement("path",{d:"M98.676,162.11h-9.398v61.085c0,2.594,2.105,4.699,4.699,4.699h28.193v-9.398H98.676V162.11z"})),k||(k=n.createElement("path",{d:"M145.664,162.11c-10.366,0-18.795,8.43-18.795,18.795v28.193c0,10.366,8.43,18.795,18.795,18.795 c10.366,0,18.795-8.43,18.795-18.795v-28.193C164.459,170.54,156.03,162.11,145.664,162.11z M155.062,209.098 c0,5.183-4.215,9.398-9.398,9.398s-9.398-4.215-9.398-9.398v-28.193c0-5.183,4.215-9.398,9.398-9.398s9.398,4.215,9.398,9.398 V209.098z"}))),L||(L=n.createElement("g",{id:"Layer_1_5_"}))),B||(B=n.createElement("g",null)),N||(N=n.createElement("g",null)),G||(G=n.createElement("g",null)),R||(R=n.createElement("g",null)),z||(z=n.createElement("g",null)),U||(U=n.createElement("g",null)),V||(V=n.createElement("g",null)),H||(H=n.createElement("g",null)),P||(P=n.createElement("g",null)),D||(D=n.createElement("g",null)),Q||(Q=n.createElement("g",null)),A||(A=n.createElement("g",null)),T||(T=n.createElement("g",null)),K||(K=n.createElement("g",null)),q||(q=n.createElement("g",null)))}var oe=n.forwardRef(le),se=(a.p,document.querySelector("#modal-root")),ie=function(e){Object(i.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(o.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).handleKeyDown=function(t){"Escape"===t.code&&e.props.toggleModal()},e.handleClose=function(t){t.currentTarget===t.target&&e.props.toggleModal()},e.handleCloseButton=function(){e.props.toggleModal()},e}return Object(s.a)(a,[{key:"componentDidMount",value:function(){window.addEventListener("keydown",this.handleKeyDown)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("keydown",this.handleKeyDown)}},{key:"render",value:function(){var e=this.props,t=e.children,a=e.largeImgURL;return Object(c.createPortal)(Object(b.jsxs)("div",{className:ae.a.Overlay,onClick:this.handleClose,children:[Object(b.jsxs)("div",{className:ae.a.Modal,children:[Object(b.jsx)("img",{src:a,alt:"Large version",width:"960"}),t]}),Object(b.jsx)("button",{type:"button",className:ae.a.ButtonClose,onClick:this.handleCloseButton,children:Object(b.jsx)(oe,{width:"50"})})]}),se)}}]),a}(n.Component),ue=function(e){Object(i.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(o.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={showModal:!1,searchResult:"",largeImg:""},e.handleFormSubmit=function(t){e.setState({searchResult:t})},e.toggleModal=function(){e.setState({showModal:!e.state.showModal})},e.handleLargeImg=function(t){e.setState({largeImg:t}),e.toggleModal()},e}return Object(s.a)(a,[{key:"render",value:function(){var e=this.state,t=e.showModal,a=e.largeImg,n=e.searchResult;return Object(b.jsxs)("div",{className:"App",children:[Object(b.jsx)(ee,{onSubmit:this.handleFormSubmit}),Object(b.jsx)(J,{searchResult:n,handleLargeImg:this.handleLargeImg}),t&&Object(b.jsx)(ie,{toggleModal:this.toggleModal,largeImgURL:a}),Object(b.jsx)($.a,{autoClose:2e3})]})}}]),a}(n.Component),he=ue;l.a.render(Object(b.jsx)(r.a.StrictMode,{children:Object(b.jsx)(he,{})}),document.getElementById("root"))},8:function(e,t,a){e.exports={ImageGallery:"ImageGallery_ImageGallery__3p7jr",title:"ImageGallery_title__2cU9Z",title_span:"ImageGallery_title_span__2HnNw",loader:"ImageGallery_loader__3PCT1",spin:"ImageGallery_spin__3y89D"}}},[[76,1,2]]]);
//# sourceMappingURL=main.04058fe7.chunk.js.map